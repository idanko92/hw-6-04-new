# Домашнее задание к занятию "`Базы данных, их типы`" - `Ключерев Даниил`


### Инструкция по выполнению домашнего задания

1. Сделайте fork [репозитория c шаблоном решения](https://github.com/netology-code/sys-pattern-homework) к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/gitlab-hw или https://github.com/имя-вашего-репозитория/8-03-hw).
2. Выполните клонирование этого репозитория к себе на ПК с помощью команды `git clone`.
3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
   - впишите вверху название занятия и ваши фамилию и имя;
   - в каждом задании добавьте решение в требуемом виде: текст/код/скриншоты/ссылка;
   - для корректного добавления скриншотов воспользуйтесь инструкцией [«Как вставить скриншот в шаблон с решением»](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md);
   - при оформлении используйте возможности языка разметки md. Коротко об этом можно посмотреть в [инструкции по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md).
4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`).
5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
6. Любые вопросы задавайте в чате учебной группы и/или в разделе «Вопросы по заданию» в личном кабинете.

Желаем успехов в выполнении домашнего задания.

---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.  
СУБД должна гарантировать целостность и чёткую структуру данных.  

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM?  
СУБД должны быть гибкими и быстрыми.  

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу  
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.  

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов  
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.  

*Приведите ответ в свободной форме.*

### Ответ 

1.1 Для бюджетирования и аналитики наиболее подходит  SQL СУБД (например, PostgreSQL, Oracle, MS SQL Server). Такие СУБД обеспечивают строгую структуру, поддерживают транзакции с ACID-организацией, гарантируя целостность и надежность данных. C помощью SQL можно реализовать сложные финансовые модели и аналитические отчеты. Например у нас в компании аналитики используют PostgreSQL.  

1.2 Для лендингов, где требуется гибкость и масштабируемость, подойдут NoSQL СУБД, в частности документо-ориентированные базы (например, MongoDB) они обеспечивают быструю обработку данных и удобны для хранения данных о лидах, формах и пользовательских событиях. Также стоит отметить что для CRM часто выбирают либо традиционную реляционную СУБД (если нужно структурировать отношения между клиентами, лидами и продажами), либо специализированные облачные решения (например, Salesforce, Bitrix24).  

1.3 Для хранения нормативных и обучающих документов подойдет реляционная СУБД из-за простой и понятной структуры (например, PostgreSQL, MySQL). Возможно использование той же СУБД, что и в заданиях 1.1 и 1.2, за счет создания отдельной схемы или набора таблиц в ней.  

1.4 Для работы с маршрутами и связями между объектами лучшим выбором является графовая СУБД (например, Neo4j, ArangoDB). Графовые базы данных очень эффективны при построении, хранении и анализе сложных сетей связей (например, маршруты, объекты, курьеры). Это значительно упростит задачи оптимизации маршрутов и распределения ресурсов.  

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.


*Приведите ответ в свободной форме.*

### Ответ

2.1. Для успешного завершения транзакции пополнения баланса телефона система должна реализовать строгую последовательность шагов, которая соответствует принципу атомарности и обеспечивает корректность данных.  
1. Проверка данных клиента - перед запуском транзакции система проверяет корректность введённого номера телефона, сумму пополнения и доступность платёжных реквизитов.
2. Резервирование средств - система инициирует резервирование или блокировку выбранной суммы на платёжном счёте пользователя, чтобы избежать двойных списаний.
3. Запуск транзакции на пополнение - система создаёт новую транзакцию, записывает её в базу данных как незавершённую (в статусе «pending»), фиксирует время транзакции и идентификатор платежа.
4. Увеличение баланса телефонного счёта - после успешной проверки и резервирования средств происходит фактическое увеличение баланса телефонного счёта пользователя на указанную сумму.
5. Обновление статуса и завершение транзакции - статус транзакции в базе данных меняется на «успешно завершено» («completed»), система фиксирует все изменения и записывает в журнал операций.
6. Информирование пользователя и снятие резерва - система отправляет пользователю уведомление о совершённом пополнении, снимает резервирование средств и финализирует все записи в СУБД

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 


*Приведите ответ в свободной форме.*
### Ответ 

Преимущества SQL-систем:

1. SQL-системы поддерживают строгие схемы данных, индексы, ограничения целостности (например, уникальность, внешние ключи), что предотвращает появление ошибок и дублирующих записей.
2. Реляционные СУБД обеспечивают выполнение транзакций согласно принципам ACID (атомарность, согласованность, изоляция, долговечность), что крайне важно для банковских, финансовых и других критичных систем.
3. SQL — стандартный, мощный и выразительный язык для описания, выборки и обновления данных, включая работу с объединениями, вложенными запросами и агрегациями.
4. Для SQL-систем существуют хорошо развитые инструменты для резервного копирования, восстановления, мониторинга, интеграции с BI-системами и средствами генерации отчётов.
5. SQL-БД поддерживаются ведущими поставщиками ПО и облачными провайдерами, обеспечивают долгосрочную обратную совместимость и возможность масштабирования согласно росту бизнеса.

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.  

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* здесь справится лучше всего и почему?  

*Приведите ответ в свободной форме.* 

### Ответ 

Ключевыми критериями являются:  
- Масштабируемость по горизонтали - возможность легко добавлять новые серверы для увеличения мощности кластера; критично, когда обрабатываются огромные объёмы данных.
- Гибкость модели хранения данных - для сильно структурированных данных можно рассматривать MPP-SQL (например, Greenplum, Amazon Redshift, Arenadata DB), а для неструктурированных и semi-структурированных - NoSQL (например, Cassandra, Hadoop, HBase).
- Производительность в условиях параллельной нагрузки - важно использовать системы, которые поддерживают реальные параллельные вычисления и минимизируют коммуникационные издержки между узлами.

Лучшая модель распределённых вычислений MPP (Massively Parallel Processing) в которой каждый узел кластера обрабатывает свою часть данных, обмен между машинами минимален, достигается высокая производительность и отказоустойчивость.  
Классические NoSQL- и Big Data-фреймворки (например, Apache Hadoop, Apache Spark) также реализуют MPP-архитектуру, позволяют обрабатывать петабайты информации на тысячах машин и эффективнее справляются с неструктурированными и полуструктурированными данными.